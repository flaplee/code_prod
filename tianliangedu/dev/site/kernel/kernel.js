"use strict";define(function(){var e={appendCss:function(e){var n=document.createElement("link");n.type="text/css",e.match(/\.less$/)?"object"==typeof less?(n.rel="stylesheet/less",n.href=e,less.sheets.push(n),less.refresh()):(n.rel="stylesheet",n.href=e.replace(/less$/,"css")):(n.rel="stylesheet",n.href=e),(document.head||document.getElementsByTagName("head")[0]).appendChild(n)},extendIn:function(e,n,t){for(var s=0;s<t.length;s++)t[s]in n&&(e[t[s]]=n[t[s]])},clone:function(n){var t,s;if(n instanceof Date)t=Date(n.valueOf());else if(n instanceof RegExp)s="",n.ignoreCase&&(s+="i"),n.multiline&&(s+="m"),n.global&&(s+="g"),t=RegExp(n.source.RegEncode(),s);else if(n instanceof Error)s=n.message?n.message:"",n instanceof RangeError?t=RangeError(s):n instanceof ReferenceError?t=ReferenceError(s):n instanceof SyntaxError?t=SyntaxError(s):n instanceof TypeError?t=TypeError(s):n instanceof URIError?t=URIError(s):(s&&(s+=","+s),t=Error(s));else if(n instanceof Array)for(t=[],s=0;s<n.length;s++)t[s]=e.clone(n[s]);else if(n instanceof Object){t={};for(s in n)t[s]=e.clone(n[s])}else t=n;return t},buildHash:function(e){var n,t="#!"+encodeURIComponent(e.id);for(n in e.args)t+=void 0===e.args[n]?"&"+encodeURIComponent(n):"&"+encodeURIComponent(n)+"="+encodeURIComponent(e.args[n]);return t},parseHash:function(e){var n,t,s,i={id:"home",args:{}};if(e=e.substr(1).replace(/[#\?].*$/,""),s=e.match(/[^=&]+(=[^&]*)?/g)){"!"===s[0].charAt(0)&&(t=s[0].substr(1),t in pages&&(i.id=decodeURIComponent(t)));for(n=1;n<s.length;n++)t=s[n].match(/^([^=]+)(?:=(.+))?$/),t&&(i.args[decodeURIComponent(t[1])]=t.length>1?decodeURIComponent(t[2]):void 0)}return i},isSameLocation:function(e,n){var t;if(e.id===n.id&&Object.keys(e.args).length===Object.keys(n.args).length){for(t in e.args)if(!(t in n.args)||e.args[t]!==n.args[t])return!1;return!0}return!1}};return!function(){function n(e,n){e.xEvents[n.type].locked=!0;for(var t=0;t<e.xEvents[n.type].length;t++)e.xEvents[n.type][t].call(e,n);for(e.xEvents[n.type].locked=!1;e.xEvents[n.type].stack.length>0;){if(e.xEvents[n.type].stack[0]){var s=e.xEvents[n.type].indexOf(e.xEvents[n.type].stack[0][1]);e.xEvents[n.type].stack[0][0]?-1!==s&&e.xEvents[n.type].splice(s,1):-1===s&&e.xEvents[n.type].push(e.xEvents[n.type].stack[0][1])}else e.xEvents[n.type].splice(0,e.xEvents[n.type].length);e.xEvents[n.type].stack.shift()}if(0===e.xEvents[n.type].length&&(delete e.xEvents[n.type],e.removeEventListener?e.removeEventListener(n.type,e.xEvents,!1):e.detachEvent?e.detachEvent("on"+n.type,e.xEvents):e["on"+n.type]=null),e.xEvents.removeMark){delete e.xEvents.removeMark;for(var i in e.xEvents)delete e.xEvents[i],e.removeEventListener?e.removeEventListener(i,e.xEvents,!1):e.detachEvent?e.detachEvent("on"+i,e.xEvents):e["on"+i]=null;e.xEvents=null}}e.listeners={add:function(e,t,s){e.xEvents||(e.xEvents=function(t){n(e,t)}),e.xEvents[t]||(e.xEvents[t]=[],e.xEvents[t].stack=[],e.xEvents[t].locked=!1,e.addEventListener?e.addEventListener(t,e.xEvents,!1):e.attachEvent?e.attachEvent("on"+t,e.xEvents):e["on"+t]=e.xEvents),e.xEvents[t].locked?e.xEvents[t].stack.push([!1,s]):e.xEvents[t].indexOf(s)<0&&e.xEvents[t].push(s)},list:function(e,n){var t,s;if(n)t=e.xEvents&&e.xEvents[n]?e.xEvents[n].slice(0):[];else if(t={},e.xEvents)for(s in e.xEvents)e.xEvents[s]instanceof Array&&e.xEvents[s].length>0&&(t[s]=e.xEvents[s].slice(0));return t},remove:function(e,n,t){var s,i;if(e.xEvents)if(n){if(e.xEvents[n]){if(e.xEvents[n].locked)t?e.xEvents[n].stack.push([!0,t]):e.xEvents[n].stack.push(null);else if(t){var o=e.xEvents[n].indexOf(t);-1!==o&&e.xEvents[n].splice(o,1)}else e.xEvents[n].splice(0,e.xEvents[n].length);0===e.xEvents[n].length&&(delete e.xEvents[n],e.removeEventListener?e.removeEventListener(n,e.xEvents,!1):e.detachEvent?e.detachEvent("on"+n,e.xEvents):e["on"+n]=null)}}else if(!e.xEvents.removeMark){for(s in e.xEvents)e.xEvents[s].locked?i=!0:(delete e.xEvents[s],e.removeEventListener?e.removeEventListener(s,e.xEvents,!1):e.detachEvent?e.detachEvent("on"+s,e.xEvents):e["on"+s]=null);i?e.xEvents.removeMark=!0:e.xEvents=null}}}}(),!function(){var n,t,s,i=(document.getElementById("hintCtn"),0),o=document.getElementById("dialog"),a=[];e.showLoading=function(e){$("#loading > div > div").text(e?e:"正在为您努力加载中..."),0===i&&(document.getElementById("loading").style.display="block"),i+=1},e.hideLoading=function(){i>0&&(i-=1,0===i&&(document.getElementById("loading").style.display="",e.dialogEvents.onloaded instanceof Function&&e.dialogEvents.onloaded({type:"loaded"})))},e.isLoading=function(){return i>0},e.hint=function(e,t){var s=$("#hint");s.find("span").text(e),n?clearTimeout(n):(s.css("display","block"),s[0].offsetWidth,s.fadeIn()),n=setTimeout(function(){n=0,s.fadeOut(function(){s.css("display","")})},t?t:4e3)},e.showReadable=function(e,n,t,i){var o=$("#readable");"string"==typeof e?o.find(">div").css("width",n).css("height",t).find(">div").html(e):o.find(">div").css("width",n).css("height",t).find(">div").append(e),o.css("display","block"),s=i},e.hideReadable=function(){"function"==typeof s&&(s(),s=void 0),$("#readable").css("display","").find(">div>div>*").remove()},e.hideDialog=function(n){var s;"function"==typeof t&&("confirm"===o.className?t(n):"alert"===o.className&&t(),t=void 0),o.className="",a.length>0&&(s=a[0][0],a[0].shift(),e[s].apply(this,a[0]),a.shift())},e.showForeign=function(n,t,s,i){e.showReadable('<iframe frameborder="no" allowtransparency="yes" marginwidth="0" marginheight="0" style="width:100%;height:100%;" src="'+n+'"></iframe>',t,s,i)},e.confirm=function(e,n,s,i){var r,c;""===o.className?(r=$(o).find(">div"),c=r.find(">div>div"),t=n,r.css("width",s||"400px"),c.text(e),o.className="confirm",r.css("height",c.outerHeight()+82+"px")):a.push(["confirm",e,n,s,i])},e.alert=function(e,n,s,i){var r,c;""===o.className?(r=$(o).find(">div"),c=r.find(">div>div"),t=n,r.css("width",s||"400px"),c.text(e),o.className="alert",r.css("height",c.outerHeight()+50+"px")):a.push(["alert",e,n,s,i])},$("#readable > div > a").on("click",e.hideReadable),$(window).on("keydown",function(n){27===n.keyCode&&"block"===$("#readable").css("display")&&e.hideReadable()}),$(o).find(">div>a.close").on("click",e.hideDialog),$(o).find(">div>a.yes").on("click",function(){e.hideDialog(!0)}),$(o).find(">div>a.no").on("click",function(){e.hideDialog(!1)}),e.dialogEvents={}}(),!function(){e.ajaxSubmit=function(n){var t={type:"get",dataType:"json"};return $.extend(t,n),delete t.cache,"data"in t||(t.data={}),t.data instanceof Object&&(t.data.format="json"),t.success=function(s){if("json"===t.dataType&&s){var i=s.ret||s["return"],o=s.errmsg||s.msg;1===i||"ok"===i?n.success instanceof Function&&n.success(s):(n.error instanceof Function?n.error(s):n.silent||e.hint(o),("用户未登录或会话已过期"===o||"账户状态异常：登录密码已失效，请重新登录"===o)&&e.setUserData(void 0))}else n.success instanceof Function&&n.success(s)},n.silent||(t.error=function(t,s){n.error instanceof Function?n.error(t,s):e.alert("网络或服务器错误: "+s)},t.complete=function(t,s){e.hideLoading(),n.complete instanceof Function&&n.complete(t,s)},e.showLoading()),$.ajax(t)}}(),e});
//# sourceMappingURL=min.js.map